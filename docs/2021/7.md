---
title: "APL Quest 2021-7: Can You Feel the Magic?"
description: "Write a function to test whether an array is a magic square."
image: "https://apl.quest/img/2021-7.png"
url: "https://apl.quest/2021/7"
---

# <span class=s>2021-</span>7: Can You Feel the Magic?

<div>
      <img src="/img/magic-square.png" style="float:right;width:250px;margin-left:20px;" />
</div>
<p><a href="https://en.wikipedia.org/wiki/Magic_square">Wikipedia</a> states that, in recreational mathematics, a square array of numbers, usually positive integers, is called a magic square if the sums of the numbers in each row, each column, and both main diagonals are the same.</p>
<p>Write a function to test whether an array is a magic square. The function must:</p>
<ul>
      <li>have a right argument that is a square matrix of integers (not necessarily all positive integers)</li>
      <li>return 1 if the array represents a magic square, otherwise return 0</li>
</ul>

üí° Hint: The <em>dyadic transpose</em> <a href="https://aplcart.info/?q=%E2%8D%89#" class="language-APL" target="_blank">X‚çâY</a> function could be helpful for solving this problem.

### Examples:

```APL
      (your_function) 1 1‚ç¥42
1

      (your_function) 3 3‚ç¥4 9 2 3 5 7 8 1 6
1

      (your_function) 2 2‚ç¥1 2 3 4
0
```
<div class="pdiv">
  <code onclick="p_Input.focus()">your_function ‚Üê </code><input id="p_Input" autocomplete="off" spellcheck="false" oninput="this.parentElement.querySelector`button`.disabled=false;localStorage.setItem(window.location.pathname,this.value)" onkeypress="subm(event)">
  <button onclick="alert$.next`Testing‚Ä¶`;submitSolution`p`" class="md-button md-button--primary">&#x2714; Test</button>
</div>
<p id="p_Output"></p>
## Solutions
<div onclick="if(event.target.tagName!='A'){play(this)}" title="Video on YouTube" class="yt">
<img class="md-header--shadow" alt="Video Thumbnail" src="../../img/2021-7.png">
<div>Click to load video from YouTube. This will enable YouTube tracking. <a href="https://support.google.com/youtube/answer/10364219" target="_blank" rel="noopener">YouTube Privacy Information</a></div>
<time>7:41</time>
<img alt="YouTube" src="../../img/yt-big.png">
</div>
<a href="https://chat.stackexchange.com/transcript/52405?m=64501098#64501098" target="_blank" class="md-button md-button--primary">Chat transcript</a>
<a href="https://github.com/abrudz/apl_quest/tree/main/2021/7.apl" target="_blank" class="md-button md-button--primary right">Code on GitHub</a>

<script>
    testCases={"a":["1 1‚ç¥42","3 3‚ç¥4 9 2 3 5 7 8 1 6","2 2‚ç¥2","2 2‚ç¥2 2 2 4","2 2‚ç¥1 2 3 4","3 3‚ç¥10 3 8 5 7 9 6 11 4","(0(=+‚ä¢)¬Ø3+?5)√ó3 3‚ç¥4 9 2 3 5 7 8 1 6","(0(=+‚ä¢)¬Ø3+?5)+3 3‚ç¥4 9 2 3 5 7 8 1 5","3 3‚ç¥3 2 4 4 3 2 2 4 3","3 3‚ç¥2 4 ¬Ø1 ¬Ø1 1 5 6 2 3","3 3‚ç¥27 15 ¬Ø15 ¬Ø26 13 58 32 5 ¬Ø10","3 3‚ç¥18 42 ¬Ø47 ¬Ø51 3 79 68 ¬Ø10 3","3 3‚ç¥12 30 ¬Ø31 ¬Ø41 1 45 36 ¬Ø24 ¬Ø7","3 3‚ç¥30 18 7 ¬Ø19 ¬Ø7 27 12 12 ¬Ø11","3 3‚ç¥36 24 ¬Ø21 ¬Ø31 17 83 40 4 ¬Ø17","3 3‚ç¥9 15 ¬Ø2 ¬Ø4 ¬Ø1 18 18 9 7","3 3‚ç¥6 3 ¬Ø6 ¬Ø7 5 5 4 ¬Ø5 4","3 3‚ç¥9 18 ¬Ø22 ¬Ø20 7 18 24 ¬Ø12 17","3 3‚ç¥30 24 ¬Ø28 ¬Ø38 19 51 36 ¬Ø15 5","3 3‚ç¥21 6 ¬Ø26 ¬Ø33 6 58 29 5 ¬Ø15","3 3‚ç¥24 30 ¬Ø5 ¬Ø15 9 25 20 ¬Ø10 9","3 3‚ç¥12 12 9 13 7 ¬Ø5 8 14 29","3 3‚ç¥21 15 ¬Ø13 ¬Ø26 4 33 18 ¬Ø6 ¬Ø7","3 3‚ç¥18 12 47 61 7 ¬Ø15 ¬Ø12 48 35","3 3‚ç¥10 10 ¬Ø5 ¬Ø29 7 37 28 ¬Ø8 ¬Ø5","3 3‚ç¥6 9 ¬Ø12 ¬Ø20 1 22 17 ¬Ø7 ¬Ø4","3 3‚ç¥15 12 ¬Ø13 ¬Ø37 14 67 38 ¬Ø10 ¬Ø14","3 3‚ç¥12 27 ¬Ø17 ¬Ø23 13 59 43 ¬Ø8 2","3 3‚ç¥3 30 13 ¬Ø13 8 27 30 ¬Ø18 10","3 3‚ç¥21 24 ¬Ø12 ¬Ø41 7 61 53 2 2","3 3‚ç¥48 6 35 ¬Ø31 17 79 32 26 ¬Ø23","3 3‚ç¥12 24 41 13 7 15 18 12 17","3 3‚ç¥18 18 ¬Ø17 ¬Ø21 21 19 20 ¬Ø22 21","3 3‚ç¥9 27 ¬Ø11 ¬Ø36 18 43 44 ¬Ø28 15","3 3‚ç¥9 21 ¬Ø11 ¬Ø18 18 28 26 ¬Ø22 15","3 3‚ç¥24 30 ¬Ø28 ¬Ø59 19 78 63 ¬Ø21 5","3 3‚ç¥27 3 29 ¬Ø11 10 30 15 18 ¬Ø4","3 3‚ç¥9 30 ¬Ø13 ¬Ø16 11 22 26 ¬Ø22 16","3 3‚ç¥3 30 17 9 18 26 22 ¬Ø14 18","3 3‚ç¥27 27 ¬Ø14 ¬Ø48 18 76 47 ¬Ø19 ¬Ø6","3 3‚ç¥10 9 ¬Ø8 ¬Ø11 3 19 14 1 ¬Ø4","3 3‚ç¥15 3 ¬Ø7 ¬Ø13 2 22 14 11 ¬Ø8","3 3‚ç¥15 27 ¬Ø32 ¬Ø22 8 54 33 ¬Ø9 ¬Ø14","3 3‚ç¥6 6 47 89 11 ¬Ø35 ¬Ø4 74 37","3 3‚ç¥36 18 37 53 17 3 6 60 7","3 3‚ç¥48 6 ¬Ø9 ¬Ø29 ¬Ø5 49 26 44 ¬Ø31","3 3‚ç¥24 6 33 37 19 13 2 38 11","3 3‚ç¥12 30 6 13 7 19 14 2 8","3 3‚ç¥15 21 ¬Ø17 ¬Ø11 13 17 19 ¬Ø11 11","3 3‚ç¥42 24 ¬Ø7 ¬Ø23 19 63 48 24 5","3 3‚ç¥18 42 ¬Ø31 ¬Ø25 17 55 44 ¬Ø22 7","3 3‚ç¥30 24 ¬Ø41 ¬Ø41 4 56 46 7 ¬Ø10","3 3‚ç¥3 27 15 35 8 ¬Ø16 1 4 22","3 3‚ç¥36 54 ¬Ø23 ¬Ø27 15 31 32 ¬Ø28 21","3 3‚ç¥3 15 11 34 4 ¬Ø9 ¬Ø9 9 5","3 3‚ç¥15 15 13 26 11 3 ¬Ø3 12 13","3 3‚ç¥12 14 ¬Ø3 ¬Ø5 7 21 18 4 1","3 3‚ç¥21 6 ¬Ø14 ¬Ø41 4 50 34 4 ¬Ø13","3 3‚ç¥27 12 ¬Ø10 ¬Ø9 12 47 25 19 ¬Ø15","3 3‚ç¥27 30 ¬Ø35 ¬Ø56 7 83 64 ¬Ø2 ¬Ø16","3 3‚ç¥24 36 33 17 5 17 22 22 ¬Ø5","3 3‚ç¥12 12 65 49 1 ¬Ø21 ¬Ø6 42 23","3 3‚ç¥6 21 15 4 10 19 23 2 5","3 3‚ç¥18 24 39 31 7 25 38 56 11","3 3‚ç¥24 54 ¬Ø19 17 35 7 32 ¬Ø16 43","3 3‚ç¥12 36 ¬Ø29 ¬Ø41 19 41 52 ¬Ø32 23","3 3‚ç¥3 30 ¬Ø8 12 15 28 23 ¬Ø7 9","3 3‚ç¥42 18 ¬Ø19 ¬Ø61 41 97 68 ¬Ø10 13","3 3‚ç¥15 9 16 3 15 7 11 5 9","3 3‚ç¥15 24 ¬Ø18 ¬Ø28 ¬Ø1 29 28 ¬Ø8 1","3 3‚ç¥36 54 23 27 27 23 28 10 21","3 3‚ç¥18 6 13 11 9 7 4 18 7"],"b":["0 0‚ç¥0","‚ç™¬Ø1","-4 4‚ç¥16 3 2 13 5 10 11 8 9 6 7 12 4 15 14 1","-4 4‚ç¥16 3 2 13 5 10 11 8 9 6 7 12 4 15 14 2","5 5‚ç¥0","¬Ø50+?3 3‚ç¥100","‚Üë(1 0 0 1)(0 1 1 0)(0 1 1 0)(1 0 0 1)","‚Üë(0 1 0 1 0)(0 1 0 1 0)(1 0 0 0 1)(0 1 0 1 0)(0 1 0 1 0)","‚çâ‚Üë(0 1 0 1 0)(0 1 0 1 0)(1 0 0 0 1)(0 1 0 1 0)(0 1 0 1 0)"],"f":"1=‚àò‚â¢‚àò‚à™(+/1 1‚àò‚çâ)‚ç™+/,+‚åø,1‚ä•1 1‚çâ‚åΩ","p":","}
    p_Input.value=localStorage.getItem(window.location.pathname)
    play=e=>e.outerHTML=`<iframe class="md-header--shadow" src="https://www.youtube.com/embed/j9MMQZXpTmM?list=PLYKQVqyrAEj9wDIUyLDGtDAFTKY38BUMN&autoplay=1" title="<span class=s>2021-</span>7: Can You Feel the Magic? (APL Quest 2021-7)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`
</script>
